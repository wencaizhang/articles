<!doctype html><html lang=zh-hans><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=generator content="Source Themes Academic 4.8.0"><meta name=author content="å‰ç«¯æœé…±"><meta name=description content="Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­
Axios æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
 æ”¯æŒæµè§ˆå™¨å’Œnode.js æ”¯æŒpromise èƒ½æ‹¦æˆªè¯·æ±‚å’Œå“åº” èƒ½è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ® èƒ½å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢JSONæ•°æ® æµè§ˆå™¨ç«¯æ”¯æŒé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )  axios çš„è¯¦ç»†ä½¿ç”¨éƒ½å¯ä»¥åœ¨ https://github.com/axios/axios ä¸­çœ‹åˆ°ï¼Œæœ¬æ–‡ä¸»è¦å°†åœ¨é¡¹ç›®å®è·µä¸­å¦‚ä½•è¿›ä¸€æ­¥å°è£… axios ï¼Œä½¿å¾— axios æ›´ç¬¦åˆå®é™…éœ€æ±‚ã€‚
å°è£…æ­¥éª¤ å…¨å±€é…ç½® å…¨å±€é…ç½®æ˜¯æŒ‡é…ç½® baseURL timeout ç­‰é€‰é¡¹ã€‚"><link rel=alternate hreflang=zh-hans href=/post/2019/2019-11-22-request-methods-with-axios/><meta name=theme-color content="#2962ff"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/academicons/1.8.6/css/academicons.min.css integrity="sha256-uFVgMKfistnJAfoCUQigIl+JfUaP47GrRKjf6CTPVmw=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.0-1/css/all.min.css integrity="sha256-4w9DunooKSr3MFXHXWyFER38WmPdm361bQS/2KUWZbU=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css integrity="sha256-Vzbj7sDDS/woiFS3uNKo8eIuni59rjyNGtXfstRzStA=" crossorigin=anonymous><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/github.min.css crossorigin=anonymous title=hl-light><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/dracula.min.css crossorigin=anonymous title=hl-dark disabled><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.css integrity="sha256-SHMGCYmST46SoyGgo4YR/9AlK1vf3ff84Aq9yK4hdqM=" crossorigin=anonymous><script src=https://cdnjs.cloudflare.com/ajax/libs/lazysizes/5.1.2/lazysizes.min.js integrity="sha256-Md1qLToewPeKjfAHU1zyPwOutccPAm5tahnaw7Osw0A=" crossorigin=anonymous async></script><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Montserrat:400,700%7CRoboto:400,400italic,700%7CRoboto+Mono&display=swap"><link rel=stylesheet href=/css/academic.css><link rel=manifest href=/index.webmanifest><link rel=icon type=image/png href=/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_32x32_fill_lanczos_center_2.png><link rel=apple-touch-icon type=image/png href=/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png><link rel=canonical href=/post/2019/2019-11-22-request-methods-with-axios/><meta property="twitter:card" content="summary"><meta property="og:site_name" content="é˜¿æ–‡çš„ç½‘ç»œç©ºé—´"><meta property="og:url" content="/post/2019/2019-11-22-request-methods-with-axios/"><meta property="og:title" content="Request Methods With Axios | é˜¿æ–‡çš„ç½‘ç»œç©ºé—´"><meta property="og:description" content="Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­
Axios æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š
 æ”¯æŒæµè§ˆå™¨å’Œnode.js æ”¯æŒpromise èƒ½æ‹¦æˆªè¯·æ±‚å’Œå“åº” èƒ½è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ® èƒ½å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢JSONæ•°æ® æµè§ˆå™¨ç«¯æ”¯æŒé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )  axios çš„è¯¦ç»†ä½¿ç”¨éƒ½å¯ä»¥åœ¨ https://github.com/axios/axios ä¸­çœ‹åˆ°ï¼Œæœ¬æ–‡ä¸»è¦å°†åœ¨é¡¹ç›®å®è·µä¸­å¦‚ä½•è¿›ä¸€æ­¥å°è£… axios ï¼Œä½¿å¾— axios æ›´ç¬¦åˆå®é™…éœ€æ±‚ã€‚
å°è£…æ­¥éª¤ å…¨å±€é…ç½® å…¨å±€é…ç½®æ˜¯æŒ‡é…ç½® baseURL timeout ç­‰é€‰é¡¹ã€‚"><meta property="og:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png"><meta property="twitter:image" content="/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_512x512_fill_lanczos_center_2.png"><meta property="og:locale" content="zh-Hans"><meta property="article:published_time" content="2019-11-22T15:46:45+08:00"><meta property="article:modified_time" content="2019-11-22T15:46:45+08:00"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"/post/2019/2019-11-22-request-methods-with-axios/"},"headline":"Request Methods With Axios","datePublished":"2019-11-22T15:46:45+08:00","dateModified":"2019-11-22T15:46:45+08:00","author":{"@type":"Person","name":"å‰ç«¯æœé…±"},"publisher":{"@type":"Organization","name":"é˜¿æ–‡çš„ç½‘ç»œç©ºé—´","logo":{"@type":"ImageObject","url":"/images/icon_hu0b7a4cb9992c9ac0e91bd28ffd38dd00_9727_192x192_fill_lanczos_center_2.png"}},"description":"Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­\nAxios æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š\n æ”¯æŒæµè§ˆå™¨å’Œnode.js æ”¯æŒpromise èƒ½æ‹¦æˆªè¯·æ±‚å’Œå“åº” èƒ½è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ® èƒ½å–æ¶ˆè¯·æ±‚ è‡ªåŠ¨è½¬æ¢JSONæ•°æ® æµè§ˆå™¨ç«¯æ”¯æŒé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )  axios çš„è¯¦ç»†ä½¿ç”¨éƒ½å¯ä»¥åœ¨ https://github.com/axios/axios ä¸­çœ‹åˆ°ï¼Œæœ¬æ–‡ä¸»è¦å°†åœ¨é¡¹ç›®å®è·µä¸­å¦‚ä½•è¿›ä¸€æ­¥å°è£… axios ï¼Œä½¿å¾— axios æ›´ç¬¦åˆå®é™…éœ€æ±‚ã€‚\nå°è£…æ­¥éª¤ å…¨å±€é…ç½® å…¨å±€é…ç½®æ˜¯æŒ‡é…ç½® baseURL timeout ç­‰é€‰é¡¹ã€‚"}</script><title>Request Methods With Axios | é˜¿æ–‡çš„ç½‘ç»œç©ºé—´</title></head><body id=top data-spy=scroll data-offset=70 data-target=#TableOfContents><aside class=search-results id=search><div class=container><section class=search-header><div class="row no-gutters justify-content-between mb-3"><div class=col-6><h1>æœç´¢</h1></div><div class="col-6 col-search-close"><a class=js-search href=#><i class="fas fa-times-circle text-muted" aria-hidden=true></i></a></div></div><div id=search-box><input name=q id=search-query placeholder=æœç´¢... autocapitalize=off autocomplete=off autocorrect=off spellcheck=false type=search></div></section><section class=section-search-results><div id=search-hits></div></section></div></aside><nav class="navbar navbar-expand-lg navbar-light compensate-for-scrollbar" id=navbar-main><div class=container><div class="d-none d-lg-inline-flex"><a class=navbar-brand href=/>é˜¿æ–‡çš„ç½‘ç»œç©ºé—´</a></div><button type=button class=navbar-toggler data-toggle=collapse data-target=#navbar-content aria-controls=navbar aria-expanded=false aria-label=åˆ‡æ¢å¯¼èˆª>
<span><i class="fas fa-bars"></i></span></button><div class="navbar-brand-mobile-wrapper d-inline-flex d-lg-none"><a class=navbar-brand href=/>é˜¿æ–‡çš„ç½‘ç»œç©ºé—´</a></div><div class="navbar-collapse main-menu-item collapse justify-content-start" id=navbar-content><ul class="navbar-nav d-md-inline-flex"><li class=nav-item><a class=nav-link href=/#posts><span>æŠ€æœ¯æ–‡ç« </span></a></li><li class=nav-item><a class=nav-link href=/#projects><span>ä¸ªäººé¡¹ç›®</span></a></li><li class=nav-item><a class=nav-link href=/doc><span>æˆ‘çš„æ–‡æ¡£</span></a></li></ul></div><ul class="nav-icons navbar-nav flex-row ml-auto d-flex pl-md-2"><li class=nav-item><a class="nav-link js-search" href=# aria-label=æœç´¢><i class="fas fa-search" aria-hidden=true></i></a></li><li class="nav-item dropdown theme-dropdown"><a href=# class="nav-link js-theme-selector" data-toggle=dropdown aria-haspopup=true><i class="fas fa-palette" aria-hidden=true></i></a><div class=dropdown-menu><a href=# class="dropdown-item js-set-theme-light"><span>Light</span></a>
<a href=# class="dropdown-item js-set-theme-dark"><span>Dark</span></a>
<a href=# class="dropdown-item js-set-theme-auto"><span>Automatic</span></a></div></li></ul></div></nav><article class=article><div class="article-container pt-3"><h1>Request Methods With Axios</h1><div class=article-metadata><span class=article-date>Nov 22, 2019</span>
<span class=middot-divider></span><span class=article-reading-time>3 åˆ†é’Ÿé˜…è¯»æ—¶é•¿</span></div></div><div class=article-container><div class=article-style><p>Axios æ˜¯ä¸€ä¸ªåŸºäº promise çš„ HTTP åº“ï¼Œå¯ä»¥ç”¨åœ¨æµè§ˆå™¨å’Œ node.js ä¸­</p><p>Axios æœ‰ä»¥ä¸‹ç‰¹ç‚¹ï¼š</p><ul><li>æ”¯æŒæµè§ˆå™¨å’Œnode.js</li><li>æ”¯æŒpromise</li><li>èƒ½æ‹¦æˆªè¯·æ±‚å’Œå“åº”</li><li>èƒ½è½¬æ¢è¯·æ±‚å’Œå“åº”æ•°æ®</li><li>èƒ½å–æ¶ˆè¯·æ±‚</li><li>è‡ªåŠ¨è½¬æ¢JSONæ•°æ®</li><li>æµè§ˆå™¨ç«¯æ”¯æŒé˜²æ­¢CSRF(è·¨ç«™è¯·æ±‚ä¼ªé€ )</li></ul><p>axios çš„è¯¦ç»†ä½¿ç”¨éƒ½å¯ä»¥åœ¨
<a href=https://github.com/axios/axios target=_blank rel=noopener>https://github.com/axios/axios</a> ä¸­çœ‹åˆ°ï¼Œæœ¬æ–‡ä¸»è¦å°†åœ¨é¡¹ç›®å®è·µä¸­å¦‚ä½•è¿›ä¸€æ­¥å°è£… axios ï¼Œä½¿å¾— axios æ›´ç¬¦åˆå®é™…éœ€æ±‚ã€‚</p><h2 id=å°è£…æ­¥éª¤>å°è£…æ­¥éª¤</h2><h3 id=å…¨å±€é…ç½®>å…¨å±€é…ç½®</h3><p>å…¨å±€é…ç½®æ˜¯æŒ‡é…ç½® <code>baseURL</code> <code>timeout</code> ç­‰é€‰é¡¹ã€‚</p><p>å…¨å±€é…ç½®ä¼šå½±å“åˆ°æ¯ä¸ªè¯·æ±‚ï¼Œå¯ä»¥ç›´æ¥å¯¹ axios é…ç½®ï¼Œä¹Ÿå¯ä»¥åˆ›å»º axios çš„å®ä¾‹ï¼Œå¯¹å®ä¾‹è¿›è¡Œé…ç½®ã€‚</p><p>axios å’Œ axios å®ä¾‹çš„åŒºåˆ«å°±åœ¨äºï¼Œaxios å¯ä»¥åˆ›å»ºå¤šä¸ªå®ä¾‹ï¼Œä¸åŒå®ä¾‹ä¹‹é—´çš„é…ç½®å¯ä»¥ä¸åŒï¼Œå¹¶ä¸”ä¸ä¼šå½±å“åˆ° axios è¿™ä¸ªæºå¤´ã€‚</p><p>ç›´æ¥é…ç½® axiosï¼š</p><pre><code class=language-js>axios.defaults.baseURL = 'https://api.example.com';
axios.defaults.timeout = 2000;
</code></pre><p>æˆ–è€…é…ç½® axios å®ä¾‹ï¼š</p><pre><code class=language-js>import axios from &quot;axios&quot;;

// åˆ›å»º axios å®ä¾‹
const request = axios.create({
  baseURL: &quot;https://api.example.com&quot;,
  timeout: 2000, // è¯·æ±‚è¶…æ—¶æ—¶é—´
});
</code></pre><h3 id=æ‹¦æˆªå™¨>æ‹¦æˆªå™¨</h3><p>axios æ‹¦æˆªå™¨åˆ†ä¸ºã€Œè¯·æ±‚æ‹¦æˆªå™¨ã€å’Œã€Œå“åº”æ‹¦æˆªå™¨ã€ï¼Œå®ƒä»¬ç›¸å½“äºæ˜¯é¡¹ç›® http è¯·æ±‚çš„å¤§é—¨ã€‚</p><p>æ¯æ¬¡å‘é€è¯·æ±‚æ—¶è¦ç»è¿‡ã€Œè¯·æ±‚æ‹¦æˆªå™¨ã€è¿™é“é—¨ï¼Œæ¯æ¬¡è¯·æ±‚å¾—åˆ°å“åº”æ—¶ä¹Ÿè¦ç»è¿‡ã€Œå“åº”æ‹¦æˆªå™¨ã€è¿™é“é—¨ã€‚</p><p>æœ‰äº†æ‹¦æˆªå™¨ï¼Œæ–¹ä¾¿æˆ‘ä»¬å¯¹æ¯ä¸ªè¯·æ±‚è¿›è¡Œä¸€äº›å¤„ç†ï¼Œæ¯”å¦‚ï¼š</p><ol><li>å‘é€è¯·æ±‚æ—¶ï¼Œåˆ¤æ–­ç”¨æˆ·çš„ç™»å½•çŠ¶æ€æˆ–è€…ç”¨æˆ·æƒé™ï¼Œä¸æ»¡è¶³æ¡ä»¶çš„æˆ–è€…è·³è½¬ç™»å½•é¡µé¢æˆ–è€…å¼¹çª—æç¤º</li><li>å‘é€è¯·æ±‚æ—¶ï¼Œæ·»åŠ ç‰¹å®šçš„ headers</li><li>è¯·æ±‚å¾—åˆ°å“åº”æ—¶ï¼Œæ ¹æ®å“åº”çŠ¶æ€ç åšä¸åŒå¤„ç†ï¼š<ul><li>200: å“åº”æˆåŠŸ</li><li>404: æœªæ‰¾åˆ°èµ„æº</li><li>409: ç”¨æˆ·æ²¡æœ‰ç›¸åº”æƒé™</li></ul></li></ol><pre><code class=language-js>import axios from &quot;axios&quot;;

// åˆ›å»º axios å®ä¾‹
const request = axios.create({
  baseURL: &quot;[/cmp/v1](https://api.example.com)&quot;,
  timeout: 2000 // è¯·æ±‚è¶…æ—¶æ—¶é—´
});


// request æ‹¦æˆªå™¨
request.interceptors.request.use(
  confit =&gt; {
    // è®¾ç½® tokenï¼Œæˆ–è€…å…¶ä»–è®¾ç½®
    config.headers[&quot;token&quot;] = 'token_123';
    return config;
  },
  err =&gt; {
    return Promise.reject(err)
  },
);

// response æ‹¦æˆªå™¨
request.interceptors.response.use(
  resp =&gt; resp.data,
  error =&gt; {
    if (error.response) {
      const data = error.response.data;
      let msg = data.desc || data.exception || '';

      switch (error.response.status) {
        case 401:
          // æç¤ºï¼šç™»å½•è¿‡æœŸï¼Œè·³è½¬ç™»å½•é¡µé¢é‡æ–°ç™»å½•
          break;
        case 403:
          // æç¤ºï¼šæƒé™ä¸è¶³
          break;
        case 404:
          // æç¤ºï¼šèµ„æºä¸å­˜åœ¨
          break;
        default:
          // æç¤ºï¼šè¯·æ±‚å¤±è´¥
          break;
      }
    }
    return Promise.reject(error);
  }
);
</code></pre><h3 id=å°è£…å„ç±»å‹è¯·æ±‚>å°è£…å„ç±»å‹è¯·æ±‚</h3><p>è¿™ä¸€æ­¥å°è£…ä¸»è¦æ˜¯ä¸ºäº†ç»Ÿä¸€ axios ä¸­ä¸åŒè¯·æ±‚ç±»å‹çš„å‚æ•°è¦æ±‚ã€‚</p><p>ä»¥ POST å’Œ GET ä¸ºä¾‹ï¼Œå°è£…ä¹‹å‰</p><pre><code class=language-js>const payload = { ID: 12345 }

// get è¯·æ±‚ï¼Œparams å±æ€§å€¼æ˜¯æºå¸¦çš„å‚æ•°
axios.get('/user', {
  params: payload
})
// post è¯·æ±‚
axios.post('/user', payload)
</code></pre><p>å°è£…ä¹‹åï¼š</p><pre><code class=language-js>const payload = { ID: 12345 }

GET('/user', payload)
POST('/user', payload)
</code></pre><p>å°è£…ä¹‹åï¼Œæ¯ç§ç±»å‹çš„è¯·æ±‚æ–¹æ³•éƒ½æ¥å—ä¸¤ä¸ªå‚æ•°ï¼šurl å’Œéœ€è¦ä¼ é€’åˆ°æœåŠ¡ç«¯çš„æ•°æ® payloadã€‚</p><p>è¿™é‡Œæˆ‘å°è£…äº† <code>GET</code> <code>POST</code> <code>PUT</code> <code>DELETE</code> å››ç§æ–¹æ³•ï¼Œåˆ†åˆ«å¯¹åº” <code>get</code> <code>post</code> <code>put</code> <code>delete</code> ç±»å‹çš„è¯·æ±‚ï¼š</p><pre><code class=language-js>export function GET (url, payload) {
  return request.get(url, {
    params: payload
  });
}

export function POST (url, payload) {
  return request.post(url, payload);
}

export function PUT (url, payload) {
  return request.put(url, payload);
}

export function DELETE (url, payload) {
  return request.delete(url, {
    data: payload
  });
}
</code></pre><p>ä½¿ç”¨æ–¹æ³•ï¼š</p><pre><code class=language-js>// ç¤ºä¾‹ï¼š
import { GET, POST, PUT, DELETE } from '@/utils/request.js'

const payload = { username: 'admin', password: '123456' }
POST('/login', payload)
  .then(resp =&gt; {
    // è¯·æ±‚æˆåŠŸ
  })
  .catch(err =&gt; {
    // è¯·æ±‚å¤±è´¥
  })
  .finally {
    // æˆåŠŸ/å¤±è´¥éƒ½ä¼šæ‰§è¡Œè¿™é‡Œä»£ç 
  }
</code></pre><h2 id=å…¶ä»–>å…¶ä»–</h2><h3 id=post-è¯·æ±‚æ•°æ®æ ¼å¼>post è¯·æ±‚æ•°æ®æ ¼å¼</h3><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œaxios ä¸­ post è¯·æ±‚çš„ <code>Content-Type</code> å­—æ®µå¯¹åº”çš„å€¼æ˜¯ <code>application/json</code> ï¼Œæ­¤æ—¶æ˜¯ä»¥ json æ ¼å¼å‘æœåŠ¡ç«¯å‘é€æ•°æ®ã€‚</p><p>å¦‚æœæƒ³è¦ä»¥ <code>FormData</code> å½¢å¼å‘é€æ•°æ®ï¼Œä½ å¯ä»¥è¿™æ ·è§£å†³</p><pre><code class=language-js>import axios from &quot;axios&quot;;
import qs from 'qs';
const data = { 'bar': 123 };
const options = {
  url,
  method: 'POST',
  data: qs.stringify(data),
  headers: { 'content-type': 'application/x-www-form-urlencoded' },
};
axios(options);
</code></pre><p>é‚£ä¹ˆå‰é¢å¯¹ POST æ–¹æ³•çš„å°è£…ä¹Ÿè¦è¿›è¡Œä¿®æ”¹ï¼š</p><pre><code class=language-js>import qs from 'qs';
export function POST (url, payload) {
  const options = {
    url,
    method: 'POST',
    data: qs.stringify(data),
    headers: { 'content-type': 'application/x-www-form-urlencoded' },
  };
  return request(options);
}
</code></pre><h3 id=æŒ‚è½½åˆ°-vue-åŸå‹ä¸Š>æŒ‚è½½åˆ° vue åŸå‹ä¸Š</h3><pre><code class=language-js>import { GET, POST, PUT, DELETE } from '@/utils/request.js'
Vue.prototype.$http = {
  get: GET,
  post: POST,
  put: PUT,
  delete: DELETE
}
</code></pre><p>æŒ‚è½½åˆ°åŸå‹ä¸Šä¹‹åï¼Œå°±å¯ä»¥åœ¨ä»»æ„çš„ vue ç»„ä»¶å†…é€šè¿‡ vue å®ä¾‹è°ƒç”¨è¯·æ±‚ï¼š</p><pre><code class=language-js>this.$http.get('/user', { id: 123 })
</code></pre><h2 id=å®Œæ•´ä»£ç >å®Œæ•´ä»£ç </h2><details><summary>å®Œæ•´çš„ request.js ä»£ç åœ¨æ­¤ï¼Œè¯·ç‚¹å‡»å±•å¼€å®Œæ•´ä»£ç </summary><pre><code class=language-js>// request.js
import axios from &quot;axios&quot;;

// åˆ›å»º axios å®ä¾‹
const request = axios.create({
  baseURL: &quot;https://api.example.com&quot;,
  timeout: 2000, // è¯·æ±‚è¶…æ—¶æ—¶é—´
});

// request æ‹¦æˆªå™¨
request.interceptors.request.use(
  confit =&gt; {
    // è®¾ç½® tokenï¼Œæˆ–è€…å…¶ä»–è®¾ç½®
    config.headers[&quot;token&quot;] = 'token_123';
    return config;
  },
  err =&gt; {
    return Promise.reject(err)
  },
);

// response æ‹¦æˆªå™¨
request.interceptors.response.use(
  resp =&gt; resp.data,
  error =&gt; {
    if (error.response) {
      const data = error.response.data;
      let msg = data.desc || data.exception || '';

      switch (error.response.status) {
        case 401:
          // æç¤ºï¼šç™»å½•è¿‡æœŸï¼Œè·³è½¬ç™»å½•é¡µé¢é‡æ–°ç™»å½•
          break;
        case 403:
          // æç¤ºï¼šæƒé™ä¸è¶³
          break;
        case 404:
          // æç¤ºï¼šèµ„æºä¸å­˜åœ¨
          break;
        default:
          // æç¤ºï¼šè¯·æ±‚å¤±è´¥
          break;
      }
    }
    return Promise.reject(error);
  }
);

export function GET (url, payload) {
  return request.get(url, {
    params: payload
  });
}

export function POST (url, payload) {
  return request.post(url, payload);
}

export function PUT (url, payload) {
  return request.put(url, payload);
}
export function PATCH (url, payload) {
  return request.patch(url, payload);
}

export function DELETE (url, payload) {
  return request.delete(url, {
    params: payload
  });
}
</code></pre></details><hr><p>æœ¬æ–‡å®Œï¼Œæ„Ÿè°¢é˜…è¯»ã€‚ğŸ˜œ</p></div><div class=article-tags><a class="badge badge-light" href=/tag/ajax/>ajax</a>
<a class="badge badge-light" href=/tag/axios/>axios</a></div><div class=share-box aria-hidden=true><ul class=share><li><a href="https://twitter.com/intent/tweet?url=/post/2019/2019-11-22-request-methods-with-axios/&text=Request%20Methods%20With%20Axios" target=_blank rel=noopener class=share-btn-twitter><i class="fab fa-twitter"></i></a></li><li><a href="https://www.facebook.com/sharer.php?u=/post/2019/2019-11-22-request-methods-with-axios/&t=Request%20Methods%20With%20Axios" target=_blank rel=noopener class=share-btn-facebook><i class="fab fa-facebook"></i></a></li><li><a href="mailto:?subject=Request%20Methods%20With%20Axios&body=/post/2019/2019-11-22-request-methods-with-axios/" target=_blank rel=noopener class=share-btn-email><i class="fas fa-envelope"></i></a></li><li><a href="https://www.linkedin.com/shareArticle?url=/post/2019/2019-11-22-request-methods-with-axios/&title=Request%20Methods%20With%20Axios" target=_blank rel=noopener class=share-btn-linkedin><i class="fab fa-linkedin-in"></i></a></li><li><a href="whatsapp://send?text=Request%20Methods%20With%20Axios%20/post/2019/2019-11-22-request-methods-with-axios/" target=_blank rel=noopener class=share-btn-whatsapp><i class="fab fa-whatsapp"></i></a></li><li><a href="https://service.weibo.com/share/share.php?url=/post/2019/2019-11-22-request-methods-with-axios/&title=Request%20Methods%20With%20Axios" target=_blank rel=noopener class=share-btn-weibo><i class="fab fa-weibo"></i></a></li></ul></div><div class="media author-card content-widget-hr"><img class="avatar mr-3 avatar-circle" src=/author/%E5%89%8D%E7%AB%AF%E6%9E%9C%E9%85%B1/avatar_hu52a603635ecebd45650b162dadabb4e5_12861_270x270_fill_q90_lanczos_center.jpg alt=å‰ç«¯æœé…±><div class=media-body><h5 class=card-title><a href=/>å‰ç«¯æœé…±</a></h5><h6 class=card-subtitle>å‰ç«¯å¼€å‘å·¥ç¨‹å¸ˆ</h6><p class=card-text>æ“…é•¿ HTMLã€CSSã€JavaScriptã€Vue.js.</p><ul class=network-icon aria-hidden=true><li><a href=https://github.com/wencaizhang target=_blank rel=noopener><i class="fab fa-github"></i></a></li></ul></div></div></div></article><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.imagesloaded/4.1.4/imagesloaded.pkgd.min.js integrity="sha256-lqvxZrPLtfffUl2G/e7szqSvPBILGbwmsGE1MKlOi0Q=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.isotope/3.0.6/isotope.pkgd.min.js integrity="sha256-CBrpuqrMhXwcLLUd5tvQ4euBHCdh7wGlDfNz8vbu/iI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js integrity="sha256-yt2kYMy0w8AbtF89WXb2P1rfjcP/HTHLT7097U8Y5b8=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js integrity="sha256-eOgo0OtLL4cdq7RdwRUiGKLX9XsIJ7nGhWEKbohmVAQ=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/languages/r.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.5.1/leaflet.js integrity="sha256-EErZamuLefUnbMBQbsEqu1USa+btR2oIlCpBJbyD4/g=" crossorigin=anonymous></script><script>const code_highlighting=true;</script><script>const isSiteThemeDark=false;</script><script>const search_config={"indexURI":"/index.json","minLength":1,"threshold":0.3};const i18n={"no_results":"æ²¡æœ‰æ‰¾åˆ°ç»“æœ","placeholder":"æœç´¢...","results":"æœç´¢ç»“æœ"};const content_type={'post':"æ–‡ç« ",'project':"é¡¹ç›®",'publication':"å‡ºç‰ˆç‰©",'talk':"æ¼”è®²",'slides':"æ¼”ç¤ºæ–‡ç¨¿"};</script><script id=search-hit-fuse-template type=text/x-template>
      <div class="search-hit" id="summary-{{key}}">
      <div class="search-hit-content">
        <div class="search-hit-name">
          <a href="{{relpermalink}}">{{title}}</a>
          <div class="article-metadata search-hit-type">{{type}}</div>
          <p class="search-hit-description">{{snippet}}</p>
        </div>
      </div>
      </div>
    </script><script src=https://cdnjs.cloudflare.com/ajax/libs/fuse.js/3.2.1/fuse.min.js integrity="sha256-VzgmKYmhsGNNN4Ph1kMW+BjoYJM2jV5i4IlFoeZA9XI=" crossorigin=anonymous></script><script src=https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin=anonymous></script><script src=/js/academic.min.66c553246b0f279a03be6e5597f72b52.js></script><div class=container><footer class=site-footer><p class=powered-by></p><p class=powered-by>Powered by the
<a href=https://sourcethemes.com/academic/ target=_blank rel=noopener>Academic theme</a> for
<a href=https://gohugo.io target=_blank rel=noopener>Hugo</a>.
<span class=float-right aria-hidden=true><a href=# class=back-to-top><span class=button_icon><i class="fas fa-chevron-up fa-2x"></i></span></a></span></p><p>æœ¬ç«™ç”±
<a style=display:inline-block;vertical-align:bottom href="https://www.upyun.com/?utm_source=lianmeng&utm_medium=referral" target=_blank><img style=height:30px src=/img/upyun_logos/åˆæ‹äº‘_logo2.png alt></a>
æä¾›CDNåŠ é€Ÿ/äº‘å­˜å‚¨æœåŠ¡</p></footer></div><div id=modal class="modal fade" role=dialog><div class=modal-dialog><div class=modal-content><div class=modal-header><h5 class=modal-title>å¼•ç”¨</h5><button type=button class=close data-dismiss=modal aria-label=Close>
<span aria-hidden=true>&#215;</span></button></div><div class=modal-body><pre><code class="tex hljs"></code></pre></div><div class=modal-footer><a class="btn btn-outline-primary my-1 js-copy-cite" href=# target=_blank><i class="fas fa-copy"></i>å¤åˆ¶</a>
<a class="btn btn-outline-primary my-1 js-download-cite" href=# target=_blank><i class="fas fa-download"></i>ä¸‹è½½</a><div id=modal-error></div></div></div></div></div></body></html>